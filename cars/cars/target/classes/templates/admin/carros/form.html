<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${carro != null} ? 'Editar Carro' : 'Novo Carro'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h1 th:text="${carro != null} ? 'Editar Carro' : 'Novo Carro'"></h1>

    <form th:action="${carro != null} ? @{/admin/carros/{id}(id=${carro.id})} : @{/admin/carros}"
          method="post" enctype="multipart/form-data">
        <input type="hidden" name="_method" th:if="${carro != null}" value="put">

        <div class="mb-3">
            <label for="marca" class="form-label">Marca</label>
            <input type="text" class="form-control" id="marca" name="marca" th:value="${carro?.marca}" required>
        </div>

        <div class="mb-3">
            <label for="modelo" class="form-label">Modelo</label>
            <input type="text" class="form-control" id="modelo" name="modelo" th:value="${carro?.modelo}" required>
        </div>

        <div class="mb-3">
            <label for="ano" class="form-label">Ano</label>
            <input type="number" class="form-control" id="ano" name="ano" th:value="${carro?.ano}" required>
        </div>

        <div class="mb-3">
            <label for="cor" class="form-label">Cor</label>
            <input type="text" class="form-control" id="cor" name="cor" th:value="${carro?.cor}" required>
        </div>

        <div class="mb-3">
            <label for="quilometragem" class="form-label">Quilometragem</label>
            <input type="number" step="0.01" class="form-control" id="quilometragem" name="quilometragem" th:value="${carro?.quilometragem}" required>
        </div>

        <div class="mb-3">
            <label for="valor" class="form-label">Valor</label>
            <input type="number" step="0.01" class="form-control" id="valor" name="valor" th:value="${carro?.valor}" required>
        </div>

        <div class="mb-3">
            <label for="descricao" class="form-label">Descrição</label>
            <textarea class="form-control" id="descricao" name="descricao" rows="3" th:text="${carro?.descricao}"></textarea>
        </div>

        <div class="mb-3" th:if="${carro != null}">
            <label for="imagens" class="form-label">Adicionar Imagens (Máx. 5)</label>
            <input type="file" class="form-control" id="imagens" name="imagens" multiple accept="image/*">
        </div>

        <div class="mb-3" th:if="${carro != null}">
            <label for="video" class="form-label">Vídeo do Carro</label>
            <input type="file" class="form-control" id="video" name="video" accept="video/mp4">
        </div>

        <button type="submit" class="btn btn-primary">Salvar</button>
        <a href="/admin/carros" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
</body>
</html>